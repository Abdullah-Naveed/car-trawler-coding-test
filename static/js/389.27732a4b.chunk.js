"use strict";(self.webpackChunkcar_trawler_coding_test=self.webpackChunkcar_trawler_coding_test||[]).push([[389],{114:function(e,t,r){r.d(t,{z:function(){return b}});var a,n=r(791),o=r(184),i=function(e){var t=e.Icon,r=e.text;return(0,o.jsxs)("div",{className:"icon-with-text",style:{display:"flex",alignItems:"center",gap:4},children:[t,r]})},l=["title","titleId"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u(e,t){var r=e.title,o=e.titleId,i=s(e,l);return n.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",height:20,width:20,ref:t,"aria-labelledby":o},i),r?n.createElement("title",{id:o},r):null,a||(a=n.createElement("path",{d:"M10 9.979Q8.583 9.979 7.625 9.021Q6.667 8.062 6.667 6.646Q6.667 5.229 7.625 4.271Q8.583 3.312 10 3.312Q11.417 3.312 12.375 4.271Q13.333 5.229 13.333 6.646Q13.333 8.062 12.375 9.021Q11.417 9.979 10 9.979ZM3.271 16.667V14.271Q3.271 13.542 3.646 12.958Q4.021 12.375 4.625 12.083Q5.896 11.479 7.26 11.156Q8.625 10.833 10 10.833Q11.375 10.833 12.75 11.156Q14.125 11.479 15.375 12.083Q15.979 12.375 16.354 12.958Q16.729 13.542 16.729 14.271V16.667Z"})))}var d,m=n.forwardRef(u),p=(r.p,["title","titleId"]);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},C.apply(this,arguments)}function h(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function f(e,t){var r=e.title,a=e.titleId,o=h(e,p);return n.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",height:20,width:20,ref:t,"aria-labelledby":a},o),r?n.createElement("title",{id:a},r):null,d||(d=n.createElement("path",{d:"M3.417 17.5Q2.688 17.5 2.177 16.99Q1.667 16.479 1.667 15.75V6.792Q1.667 6.062 2.177 5.552Q2.688 5.042 3.417 5.042H6.542V3.417Q6.542 2.688 7.052 2.177Q7.562 1.667 8.292 1.667H11.708Q12.438 1.667 12.948 2.177Q13.458 2.688 13.458 3.417V5.042H16.583Q17.312 5.042 17.823 5.552Q18.333 6.062 18.333 6.792V15.75Q18.333 16.479 17.823 16.99Q17.312 17.5 16.583 17.5ZM8.292 5.042H11.708V3.417Q11.708 3.417 11.708 3.417Q11.708 3.417 11.708 3.417H8.292Q8.292 3.417 8.292 3.417Q8.292 3.417 8.292 3.417Z"})))}var y,g=n.forwardRef(f),T=(r.p,["title","titleId"]);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v.apply(this,arguments)}function A(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function V(e,t){var r=e.title,a=e.titleId,o=A(e,T);return n.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",height:20,width:20,ref:t,"aria-labelledby":a},o),r?n.createElement("title",{id:a},r):null,y||(y=n.createElement("path",{d:"M9.125 18.333V14.938L6.5 17.562L5.271 16.333L9.125 12.458V10.875H7.521L3.646 14.75L2.417 13.5L5.042 10.875H1.667V9.125H5.083L2.438 6.479L3.667 5.25L7.521 9.125H9.125V7.521L5.25 3.646L6.5 2.396L9.125 5.042V1.667H10.875V5.062L13.521 2.417L14.75 3.646L10.875 7.521V9.125H12.458L16.354 5.229L17.604 6.479L14.958 9.125H18.333V10.875H14.958L17.562 13.5L16.333 14.729L12.479 10.875H10.875V12.458L14.771 16.333L13.521 17.583L10.875 14.958V18.333Z"})))}var R=n.forwardRef(V),b=(r.p,function(e){var t=e.Vendor,r=e.Vehicle,a=e.TotalCharge,n=e.onClick;return(0,o.jsxs)("div",{className:"car-info-container",onClick:n,"data-testid":"car-info-testId",children:[(0,o.jsx)("img",{className:"car-info-image",src:r.PictureURL,alt:"vehicle"}),(0,o.jsxs)("section",{className:"car-info-content",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:r.VehMakeModel.Name}),(0,o.jsx)("p",{children:t.Name})]}),(0,o.jsxs)("header",{className:"car-info-header",children:[(0,o.jsx)(i,{Icon:(0,o.jsx)(m,{}),text:r.PassengerQuantity}),(0,o.jsx)(i,{Icon:(0,o.jsx)(g,{}),text:r.BaggageQuantity}),"true"===r.AirConditionInd?(0,o.jsx)(i,{Icon:(0,o.jsx)(R,{})}):null]}),(0,o.jsxs)("footer",{className:"car-info-footer",children:[(0,o.jsx)("p",{children:"".concat(r.DoorCount," doors")}),(0,o.jsx)("p",{children:r.TransmissionType}),(0,o.jsx)("p",{children:"".concat(a.CurrencyCode," ").concat(a.EstimatedTotalAmount)})]})]})]})})},389:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var a,n=r(885),o=r(791),i=r(967),l=JSON.parse('[{"J":{"v":{"@PickUpDateTime":"2020-03-22T10:00:00Z","@ReturnDateTime":"2020-04-06T10:00:00Z","PickUpLocation":{"@Name":"Las Vegas - Airport"},"ReturnLocation":{"@Name":"Las Vegas - Airport"}},"s":[{"Vendor":{"@Code":"125","@Name":"ALAMO"},"VehAvails":[{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5+","@BaggageQuantity":"3","@Code":"IFAR","@CodeContext":"CARTRAWLER","@DoorCount":"5","VehMakeModel":{"@Name":"Toyota Rav4 or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/toyota/rav4/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"878.98","@EstimatedTotalAmount":"878.98","@CurrencyCode":"CAD"}},{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5","@BaggageQuantity":"4","@Code":"PCAR","@CodeContext":"CARTRAWLER","@DoorCount":"4","VehMakeModel":{"@Name":"Chrysler 300 or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/chrysler/300/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"851.03","@EstimatedTotalAmount":"851.03","@CurrencyCode":"CAD"}}]},{"Vendor":{"@Code":"1364","@Name":"AVIS"},"VehAvails":[{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5","@BaggageQuantity":"4","@Code":"FDAR","@CodeContext":"CARTRAWLER","@DoorCount":"4","VehMakeModel":{"@Name":"Chevrolet Impala or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/chevrolet/impala/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"836.25","@EstimatedTotalAmount":"836.25","@CurrencyCode":"CAD"}},{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5","@BaggageQuantity":"4","@Code":"FCAR","@CodeContext":"CARTRAWLER","@DoorCount":"3","VehMakeModel":{"@Name":"Chevrolet Impala or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/chevrolet/impala/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"836.25","@EstimatedTotalAmount":"836.25","@CurrencyCode":"CAD"}},{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5+","@BaggageQuantity":"3","@Code":"IFAR","@CodeContext":"CARTRAWLER","@DoorCount":"5","VehMakeModel":{"@Name":"Ford Escape or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/ford/escape/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"928.29","@EstimatedTotalAmount":"928.29","@CurrencyCode":"CAD"}},{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5","@BaggageQuantity":"5","@Code":"LDAR","@CodeContext":"CARTRAWLER","@DoorCount":"4","VehMakeModel":{"@Name":"Cadillac CTS or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/cadillac/cts/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"1118.83","@EstimatedTotalAmount":"1118.83","@CurrencyCode":"CAD"}},{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5","@BaggageQuantity":"5","@Code":"PDAR","@CodeContext":"CARTRAWLER","@DoorCount":"4","VehMakeModel":{"@Name":"Chrysler 300 or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/chrysler/300/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"1071.92","@EstimatedTotalAmount":"1071.92","@CurrencyCode":"CAD"}}]},{"Vendor":{"@Code":"2338","@Name":"HERTZ"},"VehAvails":[{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5","@BaggageQuantity":"4","@Code":"ICAR","@CodeContext":"CARTRAWLER","@DoorCount":"3","@Size":"6","VehMakeModel":{"@Name":"Toyota Corolla or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/toyota/corolla/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"752.31","@EstimatedTotalAmount":"752.31","@CurrencyCode":"CAD"}},{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5","@BaggageQuantity":"2","@Code":"ECAR","@CodeContext":"CARTRAWLER","@DoorCount":"2","VehMakeModel":{"@Name":"Kia Rio or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/kia/rio/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"731.47","@EstimatedTotalAmount":"731.47","@CurrencyCode":"CAD"}},{"@Status":"Available","Vehicle":{"@AirConditionInd":"true","@TransmissionType":"Automatic","@FuelType":"Petrol","@DriveType":"Unspecified","@PassengerQuantity":"5","@BaggageQuantity":"2","@Code":"CDAR","@CodeContext":"CARTRAWLER","@DoorCount":"5","VehMakeModel":{"@Name":"Ford Focus or similar"},"PictureURL":"https://ctimg-fleet.cartrawler.com/ford/focus/primary.png?auto=format&w=600"},"TotalCharge":{"@RateTotalAmount":"731.49","@EstimatedTotalAmount":"731.49","@CurrencyCode":"CAD"}}]}]}}]'),c=function(e){return{Vendor:{Code:e.Vendor["@Code"],Name:e.Vendor["@Name"]},VehAvails:e.VehAvails.map((function(t){return s(t,{code:e.Vendor["@Code"],name:e.Vendor["@Name"]})}))}},s=function(e,t){return{Vendor:{Code:t.code,Name:t.name},Status:e["@Status"],Vehicle:{AirConditionInd:e.Vehicle["@AirConditionInd"],TransmissionType:e.Vehicle["@TransmissionType"],FuelType:e.Vehicle["@FuelType"],DriveType:e.Vehicle["@DriveType"],PassengerQuantity:e.Vehicle["@PassengerQuantity"],BaggageQuantity:e.Vehicle["@BaggageQuantity"],Code:e.Vehicle["@Code"],CodeContext:e.Vehicle["@CodeContext"],DoorCount:e.Vehicle["@DoorCount"],VehMakeModel:{Name:e.Vehicle.VehMakeModel["@Name"]},PictureURL:e.Vehicle.PictureURL},TotalCharge:{RateTotalAmount:e.TotalCharge["@RateTotalAmount"],EstimatedTotalAmount:e.TotalCharge["@EstimatedTotalAmount"],CurrencyCode:e.TotalCharge["@CurrencyCode"]}}},u=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function p(e,t){var r=e.title,n=e.titleId,i=m(e,u);return o.createElement("svg",d({width:10,height:16,viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),r?o.createElement("title",{id:n},r):null,a||(a=o.createElement("path",{d:"M1.15147 13.1515C0.682843 13.6201 0.682843 14.3799 1.15147 14.8485C1.6201 15.3172 2.3799 15.3172 2.84853 14.8485L1.15147 13.1515ZM8 8L8.84853 8.84853L9.69706 8L8.84853 7.15147L8 8ZM2.84853 1.15147C2.3799 0.682842 1.6201 0.682842 1.15147 1.15147C0.682843 1.6201 0.682843 2.3799 1.15147 2.84853L2.84853 1.15147ZM2.84853 14.8485L8.84853 8.84853L7.15147 7.15147L1.15147 13.1515L2.84853 14.8485ZM8.84853 7.15147L2.84853 1.15147L1.15147 2.84853L7.15147 8.84853L8.84853 7.15147Z",fill:"#FFFFFF"})))}var C=o.forwardRef(p),h=(r.p,r(114)),f=r(321),y=r(554),g=r(871),T=r(549),v=r(491),A=[{value:"Price",label:v.E.PRICE},{value:"Vendor",label:v.E.VENDOR},{value:"Doors",label:v.E.DOORS}],V=r(837),R=function(e){return e.map((function(e){return e.VehAvails})).flat().sort((function(e,t){var r;return Number(null===e||void 0===e||null===(r=e.TotalCharge)||void 0===r?void 0:r.EstimatedTotalAmount)-Number(null===t||void 0===t?void 0:t.TotalCharge.EstimatedTotalAmount)}))},b=function(e){return e.sort((function(e,t){return e.Vendor.Name.localeCompare(t.Vendor.Name)})).map((function(e){return e.VehAvails})).flat()},L=function(e){return e.map((function(e){return e.VehAvails})).flat().sort((function(e,t){return Number(null===e||void 0===e?void 0:e.Vehicle.DoorCount)-Number(null===t||void 0===t?void 0:t.Vehicle.DoorCount)}))},w=r(184),x=function(e){var t=e.data,r=(0,y.T)(),a=(0,g.s0)(),n=function(e){var t=(0,y.T)(),r=(0,y.C)(V.tz),a=(0,y.C)(V.ap);(0,o.useEffect)((function(){n(e)}),[e,r]);var n=(0,o.useCallback)((function(e){switch(r){case v.E.VENDOR:t((0,V.fC)({sortedContent:b(e)}));break;case v.E.DOORS:t((0,V.fC)({sortedContent:L(e)}));break;default:t((0,V.fC)({sortedContent:R(e)}))}}),[r]);return{handleOptionClick:function(e){return t((0,V.Td)({sortType:e.value}))},sortedContent:a,sortType:r}}(t),i=n.handleOptionClick,l=n.sortedContent,c=n.sortType;return l?(0,w.jsxs)("div",{className:"car-list","data-testid":"car-list-testId",children:[(0,w.jsxs)("div",{className:"car-list-header",children:[(0,w.jsxs)("h3",{children:["Sorted by ",c]}),(0,w.jsx)(T.ZP,{className:"car-list-select",options:A,onChange:i})]}),l.map((function(e,t){var n=e.Vendor,o=e.Status,i=e.Vehicle,l=e.TotalCharge;return"Available"===o?(0,w.jsx)(h.z,{Vendor:n,Status:o,Vehicle:i,TotalCharge:l,onClick:function(){return e={Vendor:n,Status:o,Vehicle:i,TotalCharge:l},r((0,f.pY)(e)),void a("/carDetails");var e}},t):null}))]}):null},j=function(){var e="dd MMM yyyy, hh:mm",t=(0,o.useState)(),r=(0,n.Z)(t,2),a=r[0],s=r[1],u=(0,o.useState)(),d=(0,n.Z)(u,2),m=d[0],p=d[1];return(0,o.useEffect)((function(){!function(){var e,t=l[0].J.s,r={PickUpDateTime:(e=l[0].J.v)["@PickUpDateTime"],ReturnDateTime:e["@ReturnDateTime"],PickUpLocation:{Name:e.PickUpLocation["@Name"]},ReturnLocation:{Name:e.ReturnLocation["@Name"]}},a=t.map(c)||[];s(a),p(r)}()}),[]),(0,w.jsxs)("div",{className:"cars",children:[m&&(0,w.jsxs)("div",{className:"rental-info",children:[(0,w.jsxs)("div",{className:"rental-info-from",children:[(0,w.jsx)("h3",{children:m.PickUpLocation.Name}),(0,w.jsx)("p",{children:(0,i.Z)(new Date(m.PickUpDateTime),e)})]}),(0,w.jsx)(C,{}),(0,w.jsxs)("div",{className:"rental-info-to",children:[(0,w.jsx)("h3",{children:m.ReturnLocation.Name}),(0,w.jsx)("p",{children:(0,i.Z)(new Date(m.ReturnDateTime),e)})]})]}),a&&(0,w.jsx)(x,{data:a})]})}},554:function(e,t,r){r.d(t,{C:function(){return o},T:function(){return n}});var a=r(434),n=function(){return(0,a.I0)()},o=a.v9}}]);
//# sourceMappingURL=389.27732a4b.chunk.js.map